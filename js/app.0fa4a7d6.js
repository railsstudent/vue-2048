(function(e){function t(t){for(var i,s,o=t[0],l=t[1],c=t[2],v=0,h=[];v<o.length;v++)s=o[v],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-2048/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("p",{staticClass:"title"},[e._v("Vue 2048 Game")]),e._v(" "),n("Board"),e._v(" "),n("p",{staticClass:"footer"},[e._v("Made by Connie @ "+e._s(e.year))])],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"full"},[n("Summary",{attrs:{info:{numMoves:e.numMoves,highest:e.highest,score:e.score,gameState:e.gameState}},on:{startGame:e.startGame}}),e._v(" "),n("div",{staticClass:"tiles"},[e._l(4,(function(t){return[e._l(4,(function(i){return[n("Tile",{key:"tile-"+t+"-"+i,attrs:{tile:e.tiles[t-1][i-1],row:t,col:i}})]}))]})),e._v(" "),n("div",{staticClass:"overlay",class:{show:"OVER"===e.gameState||"WON"===e.gameState}},[n("div",{staticClass:"text"},["OVER"===e.gameState?n("span",[e._v("Game Over! Please try again!")]):e._e(),e._v(" "),"WON"===e.gameState?n("span",[e._v("You Win!")]):e._e()])])],2)],1)])},o=[],l=(n("99af"),n("cb29"),n("4160"),n("13d5"),n("fb6a"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("2909")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"actions"},[n("div",{staticClass:"stats"},[n("div",{staticClass:"score"},[e._v("Num Moves: "+e._s(e.info.numMoves))]),e._v(" "),n("div",{staticClass:"score"},[e._v("Current highest tile: "+e._s(e.info.highest))]),e._v(" "),n("div",{staticClass:"score"},[e._v("Score: "+e._s(e.info.score))])]),e._v(" "),n("div",{staticClass:"buttons"},["RUNNING"!==e.info.gameState?n("button",{staticClass:"btn",attrs:{click:e.startGame}},[e._v("Start Game")]):e._e()])])},u=[],v=(n("a9e3"),{name:"Summary",props:{info:{numMoves:Number,highest:Number,score:Number,gameState:String}},methods:{startGame:function(){this.$emit("startGame")}}}),h=v,f=(n("6949"),n("2877")),d=Object(f["a"])(h,c,u,!1,null,"76a24d84",null),m=d.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["tile",e.tileCssClass,e.backgroundCsssClass,e.newTileCssClass]},[e.tile&&-1!==e.tile.value?n("span",{class:[e.mergeCssClass]},[e._v("\n        "+e._s(e.tile.value)+"\n    ")]):e._e()])},p=[],b={name:"Tile",props:{row:Number,col:Number,tile:Object},computed:{tileCssClass:function(){return"tile-".concat(this.row,"-").concat(this.col)},backgroundCsssClass:function(){return this.tile&&this.tile.value?"background-".concat(this.tile.value):""},newTileCssClass:function(){return this.tile&&this.tile.newlyAdded?"tile-new":""},mergeCssClass:function(){return this.tile&&this.tile.merged?"tile-merged":""}}},w=b,y=(n("f998"),Object(f["a"])(w,g,p,!1,null,"fa95552a",null)),M=y.exports;function _(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var k={start:"START",won:"WON",running:"RUNNING",over:"OVER"},C=4,O=2048,S={up:38,down:40,left:37,right:39},T={name:"Board",components:{Summary:m,Tile:M},data:function(){var e=Array(C).fill(-1),t=Object(l["a"])(e).reduce((function(t,n){var i=Object(l["a"])(e).reduce((function(e,t){return e.concat({value:t,merged:!1,newlyAdded:!1})}),[]);return t.push(i),t}),[]);return{tiles:t,checkingAvailableMoves:!1,gameState:k.start,highest:0,score:0,numMoves:0}},methods:{validIndex:function(e){return"undefined"!==typeof e&&e>=0&&e<C},assignTile:function(e,t){var n=t.row,i=t.col,a=t.value,r=t.merged,s=void 0!==r&&r,o=t.newlyAdded,l=void 0!==o&&o;if(e&&this.validIndex(n)&&this.validIndex(i)){var c=e[n].slice(0);c[i]={value:a,merged:s,newlyAdded:l},this.$set(e,n,c)}},move:function(e,t,n,i,a){for(var r=this,s=a.checkMove,o=!1,l=0;l<C*C;l++){var c=Math.abs(t-l),u=Math.floor(c/C),v=c%C;if(-1!==e[u][v].value){var h=u+n,f=v+i;while(h>=0&&h<C&&f>=0&&f<C){var d=e[h][f],m=e[u][v];if(!d||-1!==d.value){if(!0===this.canMergeWith(m,d)){if(!0===this.checkingAvailableMoves)return!0;var g=e[u][v].value,p=this.mergeWith(e,h,f,u,v);s||(this.score+=g,p>this.highest&&(this.highest=p)),o=!0;break}break}if(!0===this.checkingAvailableMoves)return!0;this.assignTile(e,{row:h,col:f,value:m.value}),this.assignTile(e,{row:u,col:v,value:-1}),u=h,v=f,h+=n,f+=i,o=!0}}}return s||setTimeout((function(){if(!0===o)if(r.numMoves+=1,r.highest<O){var t=r.addRandomTile()||{},n=t.row,i=t.col,a=t.value;r.clearMerged(),r.assignTile(e,{row:n,col:i,value:a,newlyAdded:!0}),r.movesAvailable()||(r.gameState=k.over)}else r.highest===O&&(r.gameState=k.won)}),250),o},moveUp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.checkMove,i=void 0!==n&&n;return"undefined"!==typeof e&&null!=e||(e=this.tiles),this.move(e,0,-1,0,{checkMove:i})},moveDown:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.checkMove,i=void 0!==n&&n;return"undefined"!==typeof e&&null!=e||(e=this.tiles),this.move(e,C*C-1,1,0,{checkMove:i})},moveLeft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.checkMove,i=void 0!==n&&n;return"undefined"!==typeof e&&null!=e||(e=this.tiles),this.move(e,0,0,-1,{checkMove:i})},moveRight:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.checkMove,i=void 0!==n&&n;return"undefined"!==typeof e&&null!=e||(e=this.tiles),this.move(e,C*C-1,0,1,{checkMove:i})},canMergeWith:function(e,t){return!t.merged&&null!==e&&!e.merged&&t.value===e.value},mergeWith:function(e,t,n,i,a){return this.canMergeWith(e[i][a],e[t][n])?(this.assignTile(e,{row:t,col:n,value:2*e[i][a].value,merged:!0}),this.assignTile(e,{row:i,col:a,value:-1}),e[t][n].value):-1},clearMerged:function(){var e=this,t=Array(C).fill(0);Object(l["a"])(t).forEach((function(n,i){Object(l["a"])(t).forEach((function(t,n){var a=e.tiles[i][n].value;e.assignTile(e.tiles,{row:i,col:n,value:a})}))}))},movesAvailable:function(){this.checkingAvailableMoves=!0;var e=JSON.parse(JSON.stringify(this.tiles)),t=this.moveUp(e,{checkMove:!0})||this.moveDown(e,{checkMove:!0})||this.moveLeft(e,{checkMove:!0})||this.moveRight(e,{checkMove:!0});return this.checkingAvailableMoves=!1,t},addRandomTile:function(){var e,t,n=Math.floor(Math.random()*(C*C));do{n=(n+1)%(C*C),e=Math.floor(n/C),t=n%C}while(-1!==this.tiles[e][t].value);var i=Math.random()<.1?4:2;return{row:e,col:t,value:i}},startGame:function(){if(this.gameState!=k.running){this.score=0,this.highest=0,this.numMoves=0,this.clone(),this.gameState=k.running;var e=this.addRandomTile()||{},t=e.row,n=e.col,i=e.value;this.assignTile(this.tiles,{row:t,col:n,value:i});var a=this.addRandomTile()||{},r=a.row,s=a.col,o=a.value;this.assignTile(this.tiles,{row:r,col:s,value:o})}},clone:function(){var e=this,t=Array(C).fill(-1);Object(l["a"])(t).forEach((function(n,i){Object(l["a"])(t).forEach((function(t,n){e.assignTile(e.tiles,{row:i,col:n,value:t})}))}))},setGameState:function(e){e!==k.won&&e!==k.over||(this.gameState=e)},handleKeyUp:function(e){if(this.gameState===k.running){var t=e.which||e.keyCode;switch(t){case S.up:this.moveUp();break;case S.down:this.moveDown();break;case S.left:this.moveLeft();break;case S.right:this.moveRight();break;default:break}}}},created:function(){var e=_("outcome");e!==k.won&&e!==k.over||this.setGameState(e),document.addEventListener("keyup",this.handleKeyUp)},destroyed:function(){document.removeEventListener("keyup",this.handleKeyUp)}},j=T,N=(n("ab88"),Object(f["a"])(j,s,o,!1,null,"6672ea76",null)),x=N.exports,A={name:"app",components:{Board:x},data:function(){return{year:(new Date).getFullYear()}}},R=A,E=(n("5c0b"),Object(f["a"])(R,a,r,!1,null,null,null)),G=E.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(G)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},6949:function(e,t,n){"use strict";var i=n("e196"),a=n.n(i);a.a},"961b":function(e,t,n){},"9c0c":function(e,t,n){},ab88:function(e,t,n){"use strict";var i=n("f86a"),a=n.n(i);a.a},e196:function(e,t,n){},f86a:function(e,t,n){},f998:function(e,t,n){"use strict";var i=n("961b"),a=n.n(i);a.a}});
//# sourceMappingURL=app.0fa4a7d6.js.map